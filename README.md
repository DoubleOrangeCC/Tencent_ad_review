
# Tencent_ad_review

## 腾讯广告审核数据生成说明

由于阿里云天池数据无法搜索到相关的数据，因此为模拟腾讯广告审核业务场景，用于指标分析、看板搭建以及综合绩效数学建模。使用 Python 脚本生成符合真实业务特征的审核日志数据，具体逻辑如下：

### 1. 数据时间与审核员

- **数据时间范围**：2025 年 9 月 1 日至 2025 年 9 月 30 日  
- **审核员数量**：3000 人  
- **审核员属性**：
  - 所属部门/审核组：AI、金融、电商、游戏、社交、教育、汽车、医疗
  - 平均效率（秒/条）：模拟正态分布，区间限制在 60–900 秒，并随机生成异常高低值
  - 平均错误率：模拟 Beta 分布，区间限制在 0.4–0.99，并随机生成异常高低值
  - 韦性因子（resilience_factor）：模拟正态分布，区间 0.3–0.99
  - 是否轮班周末：随机分配，约 30% 审核员会在周末工作

### 2. 审核日志生成逻辑

- **工作时间段**：每日 09:00–20:00  
- **每日任务量**：基于审核员平均效率和随机工作因子生成，Poisson 分布模拟实际任务数，限制在 3–2500 条/日  
- **审核耗时**：基础耗时基于平均效率，加入小时段、韧性和随机波动因素  
- **时间段影响**：
  - 开始工作时间（09:00–10:00）：耗时增加 10%，错误率略增 5%
  - 午后低谷（13:00–15:00）：耗时增加 15%，错误率增加 10%，13:00–13:30 为半影响
  - 收尾阶段（18:00–20:00）：耗时减少 10%，错误率增加 20%
  - 周末：耗时增加 5%，错误率增加 10%  
- **韧性因子**会调节时间段的影响，使高韧性审核员影响更小

### 3. 审核结果与错误类型

- **广告是否应通过**：80% 的广告本应通过审核  
- **审核正确性**：基于审核员平均错误率和时间段调整概率生成  
- **审核结果**：
  - 如果审核正确，则结果与广告应通过情况一致  
  - 如果审核错误，则结果与广告应通过情况相反  
- **错审类型**：
  - 误杀（误将应通过广告判为不通过）  
  - 漏放（误将应不通过广告判为通过）  
  - 无（审核正确）  

### 4. 广告信息

- 广告模块：AI 领域、金融广告、电商推广、游戏营销、社交平台、教育培训、汽车出行、医疗健康  
- 广告平台：朋友圈、公众号、搜索页、信息流、视频流、小程序  
- 拒绝原因（不通过时随机生成）：夸大宣传、虚假信息、违规词汇、未标注广告、其他  
- 风险等级：高、中、低  
- 广告 ID：随机 6 位整数  

---

## 项目背景

以审核量或其简单加权平均作为判断指标的绩效模型，会因审核员所负责的广告模块难度、风险差异而导致 **不公平**  

例如：  
- 审核员 A 主要负责日用品广告，该类广告难度较低、风险较小  
- 审核员 B 主要负责金融广告，该类广告难度更高、风险更大、错审后果更严重  
- 若仅以审核量来判断绩效，就会造成 A 的绩效看似更优，而 B 的付出和风险承担却未能得到合理体现  

因此，本项目的目标是建立一个相对公平、合理并且可解释的绩效评价模型

---

## 模型建立

### 模型选择

**加法模型的缺陷**：  
- 容易被某一维度的高分掩盖其他维度的不足  
- 难以合理确定各维度的权重，不同模块、不同业务场景下权重分配的主观性过强  

**乘法模型的优势**：  
- 各维度相互制约，任何一方面不足都会直接拖低整体绩效  

审核员的绩效应从以下四个方面综合考量：  
- 产出  
- 效率  
- 质量  
- 风险  

绩效最终由以上四个维度相乘得出(各个维度的具体计算会在后续说明)  

### 相对水平

直接比较 **绝对数值** 仍可能失真：  
- 某些模块整体难度和风险更高，导致同样的效率或质量看似偏低，但实际价值更大  

因此，本模型采用 **相对水平**：  
- 所有得分均与 **历史平均水平** 对比，衡量审核员在其所负责模块中相对于历史的表现  

### 跨模块加权

审核员可能同时负责多个广告模块 ：
- 在四个维度的得分计算中，均需按照各模块的 **审核量占比** 进行加权计算

---

## 产出得分（基础维度）

### 设计逻辑

- 产出得分衡量审核员**做的多不多**  
- 此处的作用是 **门槛指标**：保证审核员完成基础工作量，同时将主要评价权交给 **效率** 和 **质量** 维度  
- **原因**：效率在一定程度上已经反映了审核量——高效率审核员在固定时间内通常产出也高  
-    如果产出和效率都直接对标历史平均，容易出现信息重叠，导致权重失衡  

### 计算方式

#### 单模块得分

$$
S_{\text{产出}, i,j} = \min \left( \frac{Q_{i,j}}{\bar{Q}_j}, 1 \right)
$$  

- $Q_{i,j}$：审核员 $i$ 在模块 $j$ 的实际审核量  
- $\bar{Q}_j$：模块 $j$ 的历史平均审核量  

#### 多模块加权得分

$$
S_{\text{产出}, i} = \frac{\sum_{j=1}^{M} Q_{i,j} \cdot S_{\text{产出}, i,j}}{\sum_{j=1}^{M} Q_{i,j}}
$$  

- $M$：审核员 $i$ 涉及的模块总数  

### 示例

假设审核员 A 有两个模块的审核情况：

| 模块 | 审核量 $Q_{i,j}$ | 历史平均 $\bar{Q}_j$ | 模块产出得分 $S_{i,j}$ |
| ---- | --------------- | ------------------ | -------------------- |
| 1    | 1               | 100                | 0.01                 |
| 2    | 99              | 50                 | 1                    |

**总产出得分**：

$$
S_{\text{产出}, i} = \frac{1 \cdot 0.01 + 99 \cdot 1}{1+99} = 0.9901
$$  

---

## 效率得分（核心维度）

### 设计逻辑

效率得分衡量审核员**做的快不快**  
在固定绩效周期内，效率直接影响审核产出，同时反映审核员处理任务的熟练程度  

### 计算方式

#### 单模块得分

$$
S_{\text{效率}, i,j} = \frac{E_{i,j}}{\bar{E}_j} = \frac{Q_{i,j}/T_{i,j}}{\bar{Q}_j / \bar{T}_j}
$$  

- $Q_{i,j}$：审核员 $i$ 在模块 $j$ 的实际审核量  
- $T_{i,j}$：审核员 $i$ 在模块 $j$ 的实际耗时  
- $\bar{Q}_j, \bar{T}_j$：模块 $j$ 的历史平均审核量与耗时  
- $E_{i,j}$：个人单模块效率  
- $\bar{E}_j$：历史平均效率  

#### 多模块加权得分

$$
S_{\text{效率}, i} = \frac{\sum_{j=1}^{M} Q_{i,j} \cdot S_{\text{效率}, i,j}}{\sum_{j=1}^{M} Q_{i,j}}
$$  

###   示例

假设审核员 A 有两个模块的审核情况：

| 模块 | 审核量 $Q_{i,j}$ | 耗时 $T_{i,j}$ | 历史平均效率 $\bar{E}_j$ | 模块效率得分 $S_{效率,i,j}$ |
| ---- | --------------- | ------------- | ---------------------- | ------------------------ |
| 1    | 50              | 10h           | 4.0                    | 50/10 ÷ 4 = 1.25         |
| 2    | 30              | 6h            | 4.5                    | 30/6 ÷ 4.5 = 1.11        |

**总效率得分**：


$$
S_{\text{效率}, i} = \frac{50 \cdot 1.25 + 30 \cdot 1.11}{50 + 30} \approx 1.21
$$


---

## 质量得分（核心维度）

### 设计逻辑

质量得分衡量审核员**做的好不好**  

单纯使用 **错误率** 衡量质量容易失真，无法体现错误的严重性：  
- 在 **高风险板块** 中的错误，后果更严重  
- 在 **低风险板块** 中的错误，即使频率相同，影响较小  

因此，质量评价应结合 **错误类型（误杀/漏放）** 与 **风险等级（低/中/高）**，引入差异化 **扣分矩阵**  

| 风险等级 | 漏放 | 误杀 |
| -------- | ---- | ---- |
| 高风险   | 最高 | 高  |
| 中风险   | 高   | 中  |
| 低风险   | 中   | 最低 |

确保:
* 在高风险任务中保持低错误率的审核员，其价值能被凸显  
* 在低风险任务中，即使错误率略高，影响也不会被夸大  

同时:
- 高风险模块的错误后果严重 → 扣分更高  
- 低风险模块的错误后果轻 → 扣分较低

### 计算方式

#### 单模块得分

$$
S_{\text{质量}, i,j} = \frac{\bar{D}_j}{D_{i,j}}
$$

$$
D_{i,j} = \frac{\sum_{k} N_{i,j,k} \cdot P_{j,k}}{Q_{i,j}}
$$  

- $N_{i,j,k}$：审核员 $i$ 在模块 $j$ 中错误类型 $k$ 的数量  
- $P_{j,k}$：对应错误类型的扣分权重  
- $Q_{i,j}$：审核员 $i$ 在模块 $j$ 的实际审核量  
- $\bar{D}_j$：模块 $j$ 的历史平均扣分率  

#### 多模块加权得分

$$
S_{\text{质量}, i} = \frac{\sum_{j=1}^{M} Q_{i,j} \cdot S_{\text{质量}, i,j}}{\sum_{j=1}^{M} Q_{i,j}}
$$  



### 示例

假设扣分矩阵：

| 风险等级 | 漏放 | 误杀 |
| -------- | ---- | ---- |
| 高风险   | 40   | 20   |
| 中风险   | 20   | 10   |
| 低风险   | 10   | 5    |


假设审核员 A 有两个模块的审核情况：

| 模块 | 审核量 $Q_{i,j}$ | 错误类型 | 错误数量 $N_{i,j,k}$ | 扣分 $P_{j,k}$ | 历史平均扣分率 $\bar{D}_j$ | 模块实际扣分率 $D_{i,j}$ | 模块质量得分 $S_{\text{质量}, i,j}$ |
| ---- | ---------------- | -------- | ------------------- | -------------- | -------------------------- | ------------------------ | -------------------------------- |
| 1    | 50               | 漏放     | 2                   | 40             | 1.5                        | $D_{1} = \frac{2\cdot40 + 1\cdot20}{50} = 2.0$ | $S_{1} = \frac{1.5}{2.0} = 0.75$ |
| 1    | 50               | 误杀     | 1                   | 20             | 1.5                        | 同上                     | 同上                             |
| 2    | 30               | 漏放     | 1                   | 20             | 1.2                        | $D_{2} = \frac{1\cdot20 + 1\cdot10}{30} = 1.0$ | $S_{2} = \frac{1.2}{1.0} = 1.2$ |
| 2    | 30               | 误杀     | 1                   | 10             | 1.2                        | 同上                     | 同上                             |

---

**总质量得分**：

$$
S_{\text{质量}, A} = \frac{50 \cdot 0.75 + 30 \cdot 1.2}{50 + 30} = \frac{73.5}{80} \approx 0.919
$$


---

## 风险

### 设计逻辑
以上模型已经能较全面地评估工作量、效率和质量，但无法充分体现审核员在高风险任务中的额外付出

在审核业务中，不同模块的风险等级差异显著，高风险的模块本身的难度已经反映到了效率和质量上：  
- 在高风险模块中，审核员需要投入更多精力，同时错误的代价也更高；  
- 在低风险模块中，任务相对容易，但价值权重较小。  

因此风险维度主要是作为补偿得分存在，它能够放大高风险审核所带来的价值

- 低风险任务 → 补偿得分接近 1；  
- 高风险任务 → 补偿得分显著大于 1。  

参数 $\alpha$ 可调节

---

### 计算方式

#### 单模块风险补偿得分  

设审核员 $i$ 在模块 $j$ 的风险等级为 $L_j$，最高风险等级为 $L_{\max}$，则：  

$$
S_{\text{风险}, i,j} = 1 + \alpha \cdot \frac{L_j}{L_{\max}}
$$  

其中：  
- $L_j$：模块 $j$ 的风险等级（数值化，低=1，中=2，高=3）；  
- $L_{\max}$：最高风险等级（一般取 3）；  
- $\alpha$：风险调节系数（控制风险维度在整体绩效中的权重）。 

#### 多模块风险补偿得分  

当审核员同时负责多个模块时，总风险补偿得分为审核量加权平均：  

$$
S_{\text{风险}, i} = \frac{\sum_{j=1}^{M} Q_{i,j} \cdot S_{\text{风险}, i,j}}{\sum_{j=1}^{M} Q_{i,j}}
$$  

---

### 示例

设 $\alpha = 0.5$，风险等级数值化为：低=1，中=2，高=3。  

| 模块   | 审核量 $Q_{i,j}$ | 风险等级 $L_j$ | 单模块补偿得分 $S_{\text{风险}, i,j}$ |
| ------ | ---------------- | --------------- | ------------------------------------ |
| 日用类 | 100              | 1               | $1 + 0.5 \cdot \tfrac{1}{3} \approx 1.17$ |
| 游戏类 | 80               | 2               | $1 + 0.5 \cdot \tfrac{2}{3} \approx 1.33$ |
| 金融类 | 50               | 3               | $1 + 0.5 \cdot 1 = 1.5$ |

**总风险补偿得分**：  

$$
S_{\text{风险}, A} = \frac{100 \cdot 1.17 + 80 \cdot 1.33 + 50 \cdot 1.5}{100 + 80 + 50} \approx 1.30
$$  

## 最终绩效

综合四个维度得分：

$$
S_{\text{总}, i} = S_{\text{产出}, i} \times S_{\text{效率}, i} \times S_{\text{质量}, i} \times S_{\text{风险}, i}
$$

- $S_{\text{产出}, i}$：审核员 $i$ 的产出得分（加权平均）  
- $S_{\text{效率}, i}$：审核员 $i$ 的效率得分（加权平均）  
- $S_{\text{质量}, i}$：审核员 $i$ 的质量得分（加权平均）  
- $S_{\text{风险}, i}$：审核员 $i$ 的风险补偿得分（加权平均）  

---

## 归一化

### Z-score
$$
Z_i = \frac{S_{\text{总}, i} - \mu_S}{\sigma_S}
$$

- $\mu_S$：总绩效均值  
- $\sigma_S$：总绩效标准差  

### 转换为 T 值

$$
T_i = 50 + 10 \cdot Z_i
$$

- T 值均值为 50，标准差为 10  
- 方便进行绩效等级划分和可视化

---

### Min-Max

将总绩效映射到 [0, 1] 范围：

$$
S'_{\text{总}, i} = \frac{S_{\text{总}, i} - S_{\min}}{S_{\max} - S_{\min}}
$$

- $S_{\min}$：所有审核员总绩效的最小值  
- $S_{\max}$：所有审核员总绩效的最大值  
- 归一化后可用于比率分析或加权综合

---

### **绩效分级**

  - T ≥ 60 或 $S'_{\text{总}, i} ≥ 0.75$：优秀  
  - 50 ≤ T < 60 或 0.5 ≤ $S'_{\text{总}, i}$ < 0.75：良好  
  - 40 ≤ T < 50 或 0.25 ≤ $S'_{\text{总}, i}$ < 0.5：合格  
  - T < 40 或 $S'_{\text{总}, i}$ < 0.25：待改进  
